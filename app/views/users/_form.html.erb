<div class="form-content">


<%= form_with(model: user, html: { class: "d-flex flex-column align-items-center" }) do |form| %>
  <% if user.errors.any? %>
    <div style="color: red">
        <% user.errors.full_messages.each do |message| %>
          <%= message %>
        <% end %>
    </div>
  <% end %>

  <div class="avatar mb-3 position-relative" data-controller="image-preview">
    <label for="avatar-input" style="cursor: pointer; display: block; width: 100%; height: 100%;">
      <%= image_tag avatar_url(user), class: "object-fit-cover rounded-2 w-100 h-100", alt: "Profile Avatar", data: { image_preview_target: "output" } %>
    </label>
    <%= form.file_field :avatar, id: "avatar-input", class: "d-none", accept: "image/*", data: { image_preview_target: "input", action: "change->image-preview#preview" } %>
  </div>
  <h2 class="fw-bold fs-6 text-primary">Basic Information</h2>
  <div class="mb-1 d-flex flex-column align-items-start">
    <%= form.label :firstName %>
    <%= form.text_field :firstName, class: "form-control", autofocus: true %>
  </div>

  

  <div class="mb-1 d-flex flex-column align-items-start">
    <%= form.label :lastName %>
    <%= form.text_field :lastName, class: "form-control" %>
  </div>

  <div class="mb-1 d-flex flex-column align-items-start">
    <%= form.label :email %>
    <%= form.text_field :email, class: "form-control" %>
  </div>


  <div>
    <%= form.submit class: "btn btn-success mt-3", value: "Save" %>
  </div>
<% end %>

<%= form_with(model: user, url: registration_path(:user), method: :patch, data: { turbo: false }, html: { class: "d-flex flex-column align-items-center mt-5" }) do |form| %>
  <h2 class="fw-bold fs-6 text-primary">Password</h2>

  <div class="mb-1 d-flex flex-column align-items-start">
    <%= form.label :current_password %>
    <%= form.password_field :current_password, class: "form-control" %>
  </div>

  <div class="mb-1 d-flex flex-column align-items-start">
    <%= form.label :password %>
    <%= form.password_field :password, class: "form-control", autofocus: true %>
  </div>
  

  <div class="mb-1 d-flex flex-column align-items-start">
    <%= form.label :password_confirmation %>
    <%= form.password_field :password_confirmation, class: "form-control" %>
  </div>

  <div>
    <%= form.submit class: "btn btn-success mt-3", value: "Save" %>
  </div>
<% end %>

</div>